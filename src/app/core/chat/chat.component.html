<div class="container d-flex flex-column" *ngIf="user$ | async">
  <div *ngIf="messages$ | async as messages">
    <div class="message-wrapper" *ngFor="let message of messages; let i = index">
      <div [ngClass]="getMessageClasses(message, i)">
        {{ message.text }}
      </div>
    </div>
  </div>
  <form class="mt-auto" #chatForm="ngForm" (submit)="sendMessage(chatForm)">
    <div class="d-flex">
      <input
        class="form-control"
        type="text"
        name="message"
        [(ngModel)]="newMessage"
        [placeholder]="'CHAT.ENTER_MESSAGE' | translate"
        autocomplete="off"
        autofocus
        required
      >
      <button class="btn btn-link" type="submit" [disabled]="!chatForm.valid">
        {{ 'CHAT.SEND' | translate }}
      </button>
    </div>
  </form>
</div>
